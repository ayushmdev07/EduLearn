@inject IHttpContextAccessor HttpContextAccessor
@{
    var uImage = HttpContextAccessor.HttpContext.Session.GetString("UserImage");
    var aImage = HttpContextAccessor.HttpContext.Session.GetString("AdminImage");

    var Uid = HttpContextAccessor.HttpContext.Session.GetInt32("UserId");
    var Aid = HttpContextAccessor.HttpContext.Session.GetInt32("AdminId");

    var image = string.Empty; string act = "Index"; string con = "Home";
    string imgact = "Index"; string imgcon = "Home";

    if (Uid != null) { image = uImage; act = "Dashboard"; con = "User"; imgact = "Account"; imgcon = "User"; }
    if (Aid != null) { image = aImage; act = "Index"; con = "Admin"; imgact = "AdminSetting"; imgcon = "Admin"; }
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Education</title>

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

    @await RenderSectionAsync("Styles", required: false)

    <!-- 🔹 Global Site CSS -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

</head>
<body>
    
        <!-- ===== Navbar ===== -->
    <nav class="navbar navbar-expand-md shadow-sm sticky-top m-0 px-0 py-0 py-lg-1" style="z-index: 1050;">
        <div class="mx-auto container-lg pt-1 pb-0">
            <a class="navbar-brand fs-2 fw-bold ms-1 ms-sm-3 ms-md-2 ms-lg-0" href="/">EduLearn</a>

            <button class="navbar-toggler me-0 me-sm-4" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon" style="font-size:20px !important;"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav ms-4 ms-md-0 me-md-1 me-lg-3 me-xl-4 gap-md-0 gap-lg-2 gap-xl-3">
                    <li class="nav-item"><a class="nav-link text-dark fw-medium" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link text-dark fw-medium" asp-action="Services" asp-controller="Services">Services</a></li>
                    <li class="nav-item"><a class="nav-link text-dark fw-medium" asp-action="AboutUs" asp-controller="Home">About</a></li>
                    <li class="nav-item"><a class="nav-link text-dark fw-medium" asp-action="Contact" asp-controller="Contact">Contact</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-dark fw-medium" id="navbarDropdown"
                           role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            More
                        </a>
                        <ul class="dropdown-menu p-3 shadow" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="/#updates">Updates</a></li>
                            @* <li>
                                <hr class="dropdown-divider">
                            </li> *@
                            <li><a class="dropdown-item" asp-action="Privacy" asp-controller="Home">Privacy Policy</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        @if ( User.Identity.IsAuthenticated && (Uid != null || Aid != null))
            {
                <div class="d-flex py-2">
                    <a class="btn ms-1 ms-sm-2 px-2 px-sm-4 ms-md-2 px-md-3 px-lg-4 me-2" style="color:blue; top:20px;" asp-action="@act" asp-controller="@con" id="login">
                        Dashboard
                    </a>
                    <a class="ms-0 ms-sm-3" asp-action="@imgact" asp-controller="@imgcon">
                        <img src="/Authentication/GetImage?file=@image" class="mx-1 me-sm-3" alt="" style="width:40px; height:40px; border-radius:50%;" />
                    </a>
                </div>
            }
            else
            {
                <div class="d-flex py-2">
                    <a class="btn ms-1 ms-sm-3 px-sm-3 ms-md-0 px-md-3 px-lg-4 me-2" asp-action="Login" asp-controller="Authentication"
                   id="login">Log in</a>
                <a class="btn px-sm-3 px-md-3 px-xl-4 me-md-1 me-lg-0" asp-action="Register"
                   asp-controller="Authentication" id="register">Register</a>
            </div>
            }


        </div>
    </nav>
  

    <!--------------------------------------Main Content Area------------------------------->

    <div class="container-fluid p-0 m-0">
        <main role="main" class="pb-5">
            @RenderBody()
        </main>
    </div>

    <!----------------------------------- Footer ----------------------------------------->

    <footer class="text-white pb-3 fixed">
        <div class="row m-0 p-0">
            <div class="col-sm"></div>
            <div class="col-sm-9 text-center" id="f-top">
                Online learning is flexible and global, while offline learning
                is personal and disciplined.
            </div>
            <div class="col-sm"></div>
        </div>
        <div class="container text-center text-md-start">
            <div class="row">

                <!-- 1️⃣ About -->
                <div class="col-12 col-md-6 col-lg-6 col-xl-3 mx-auto mb-4 ">
                    <h5 class="text-uppercase fw-semibold mb-3">EduLearn</h5>
                    <p class="fs-6">
                        Learnify empowers learners to master modern web development.
                        Build your skills with guided tutorials and projects.
                    </p>
                </div>

                <!-- 2️⃣ Quick Links -->
                <div class="col-12 col-md-6 col-lg-6 col-xl-3 mx-auto mb-4">
                    <h6 class="text-uppercase fw-semibold mb-3">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="/" class="text-white text-decoration-none d-block mb-2">Home</a></li>
                        <li><a href="/#courses" class="text-white text-decoration-none d-block mb-2">Courses</a></li>
                        <li><a href="/#about" class="text-white text-decoration-none d-block mb-2">About</a></li>
                        <li><a href="/#contact" class="text-white text-decoration-none d-block mb-2">Contact</a></li>
                    </ul>
                </div>

                <!-- 3️⃣ Resources -->
                <div class="col-12 col-md-6 col-lg-6 col-xl-3 mx-auto mb-4">
                    <h6 class="text-uppercase fw-semibold mb-3">Resources</h6>
                    <ul class="list-unstyled">
                        <li><a href="/#courses" class="text-white text-decoration-none d-block mb-2">Blog</a></li>
                        <li><a href="/#contact" class="text-white text-decoration-none d-block mb-2">FAQ</a></li>
                        <li><a href="/#contact" class="text-white text-decoration-none d-block mb-2">Support</a></li>
                        <li><a asp-action="Privacy" asp-controller="Home" class="text-white text-decoration-none d-block mb-2">Terms & Policy</a></li>
                    </ul>
                </div>

                <!-- 4️⃣ Contact -->
                <div class="col-12 col-md-6 col-lg-6 col-xl-3 mx-auto mb-md-0 mb-2">
                    <h6 class="text-uppercase fw-semibold mb-3">Contact</h6>
                    <p class="mb-2"><i class="bi bi-geo-alt-fill me-2"></i>Azamgarh, India</p>
                    <p class="mb-2"><i class="bi bi-envelope-fill me-2"></i>info@edulearn.com</p>
                    <p class="mb-0"><i class="bi bi-telephone-fill me-2"></i>+91 97087 98088</p>
                </div>
            </div>

            <hr class="text-light">

            <!-- Footer Bottom -->
            <div class="text-center mt-4">
                <p id="currentDateTime" class="mb-0"></p>
                <p class="mt-1" style="color: rgb(216, 216, 216);">
                    © <span id="currentYear"></span> Learnify. All Rights Reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Global JS -->
    <script src="~/js/site.js"></script>

    <!-- 🔹 Page-specific JS -->
    @* @await RenderSectionAsync("SideLayoutScripts", required: false) *@
    @await RenderSectionAsync("Scripts", required: false)

</body>


</html>
